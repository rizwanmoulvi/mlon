{
  "address": "0x1e77cdfB592264aa22697965f23076091019F4Bf",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract DataLayer",
          "name": "_dataLayer",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "int256[][]",
          "name": "X",
          "type": "int256[][]"
        },
        {
          "internalType": "int256[]",
          "name": "y",
          "type": "int256[]"
        },
        {
          "internalType": "int256",
          "name": "learningRate",
          "type": "int256"
        },
        {
          "internalType": "uint256",
          "name": "iterations",
          "type": "uint256"
        },
        {
          "internalType": "int256",
          "name": "bias",
          "type": "int256"
        }
      ],
      "name": "fit",
      "outputs": [
        {
          "internalType": "int256[]",
          "name": "",
          "type": "int256[]"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "schemaName",
          "type": "bytes32"
        },
        {
          "internalType": "uint256[]",
          "name": "trainingColIndices",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256",
          "name": "labelColIndex",
          "type": "uint256"
        },
        {
          "internalType": "int256[][]",
          "name": "testData",
          "type": "int256[][]"
        },
        {
          "internalType": "int256",
          "name": "learningRate",
          "type": "int256"
        },
        {
          "internalType": "uint256",
          "name": "iterations",
          "type": "uint256"
        },
        {
          "internalType": "int256",
          "name": "bias",
          "type": "int256"
        }
      ],
      "name": "getLinearRegression",
      "outputs": [
        {
          "internalType": "int256[]",
          "name": "",
          "type": "int256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "int256[][]",
          "name": "analyticsData",
          "type": "int256[][]"
        },
        {
          "internalType": "int256[]",
          "name": "labels",
          "type": "int256[]"
        },
        {
          "internalType": "int256[][]",
          "name": "testData",
          "type": "int256[][]"
        },
        {
          "internalType": "int256",
          "name": "learningRate",
          "type": "int256"
        },
        {
          "internalType": "uint256",
          "name": "iterations",
          "type": "uint256"
        },
        {
          "internalType": "int256",
          "name": "bias",
          "type": "int256"
        }
      ],
      "name": "getLinearRegressionOffChainData",
      "outputs": [
        {
          "internalType": "int256[]",
          "name": "",
          "type": "int256[]"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "int256[][]",
          "name": "X",
          "type": "int256[][]"
        },
        {
          "internalType": "int256",
          "name": "bias",
          "type": "int256"
        },
        {
          "internalType": "int256[]",
          "name": "weights",
          "type": "int256[]"
        }
      ],
      "name": "predict",
      "outputs": [
        {
          "internalType": "int256[]",
          "name": "",
          "type": "int256[]"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    }
  ],
  "transactionHash": "0x597232fc168625e0362fed2ff704ea7e8ab82a59c22f5808025c693a00d7dc70",
  "receipt": {
    "to": null,
    "from": "0x4277c4637F8fBe91308843Cb8EfE89630f9F68a2",
    "contractAddress": "0x1e77cdfB592264aa22697965f23076091019F4Bf",
    "transactionIndex": 4,
    "gasUsed": "694616",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x9e64fa70305de2eeea7692e75b0f087e31211202bda8525082c420dfe984f6a3",
    "transactionHash": "0x597232fc168625e0362fed2ff704ea7e8ab82a59c22f5808025c693a00d7dc70",
    "logs": [],
    "blockNumber": 43096614,
    "cumulativeGasUsed": "1313030",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0xa0258F0A0835A82163D855aD239C0Da8b304c0b3"
  ],
  "numDeployments": 1,
  "solcInputHash": "fa3aaec5169ad7d016de55343ed1c4dd",
  "metadata": "{\"compiler\":{\"version\":\"0.8.17+commit.8df45f5f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"contract DataLayer\",\"name\":\"_dataLayer\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"int256[][]\",\"name\":\"X\",\"type\":\"int256[][]\"},{\"internalType\":\"int256[]\",\"name\":\"y\",\"type\":\"int256[]\"},{\"internalType\":\"int256\",\"name\":\"learningRate\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"iterations\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"bias\",\"type\":\"int256\"}],\"name\":\"fit\",\"outputs\":[{\"internalType\":\"int256[]\",\"name\":\"\",\"type\":\"int256[]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"schemaName\",\"type\":\"bytes32\"},{\"internalType\":\"uint256[]\",\"name\":\"trainingColIndices\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256\",\"name\":\"labelColIndex\",\"type\":\"uint256\"},{\"internalType\":\"int256[][]\",\"name\":\"testData\",\"type\":\"int256[][]\"},{\"internalType\":\"int256\",\"name\":\"learningRate\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"iterations\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"bias\",\"type\":\"int256\"}],\"name\":\"getLinearRegression\",\"outputs\":[{\"internalType\":\"int256[]\",\"name\":\"\",\"type\":\"int256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"int256[][]\",\"name\":\"analyticsData\",\"type\":\"int256[][]\"},{\"internalType\":\"int256[]\",\"name\":\"labels\",\"type\":\"int256[]\"},{\"internalType\":\"int256[][]\",\"name\":\"testData\",\"type\":\"int256[][]\"},{\"internalType\":\"int256\",\"name\":\"learningRate\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"iterations\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"bias\",\"type\":\"int256\"}],\"name\":\"getLinearRegressionOffChainData\",\"outputs\":[{\"internalType\":\"int256[]\",\"name\":\"\",\"type\":\"int256[]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"int256[][]\",\"name\":\"X\",\"type\":\"int256[][]\"},{\"internalType\":\"int256\",\"name\":\"bias\",\"type\":\"int256\"},{\"internalType\":\"int256[]\",\"name\":\"weights\",\"type\":\"int256[]\"}],\"name\":\"predict\",\"outputs\":[{\"internalType\":\"int256[]\",\"name\":\"\",\"type\":\"int256[]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"fit(int256[][],int256[],int256,uint256,int256)\":{\"params\":{\"X\":\"- The training features.\",\"y\":\"- The training labels.\"}},\"predict(int256[][],int256,int256[])\":{\"params\":{\"X\":\"- The input features.\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"fit(int256[][],int256[],int256,uint256,int256)\":{\"notice\":\"Fits the linear regression model to the training data\"},\"predict(int256[][],int256,int256[])\":{\"notice\":\"Predicts the labels for the given input data\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/LinearRegression.sol\":\"LinearRegression\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"@openzeppelin/contracts/access/Ownable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (access/Ownable.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../utils/Context.sol\\\";\\n\\n/**\\n * @dev Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * By default, the owner account will be the one that deploys the contract. This\\n * can later be changed with {transferOwnership}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyOwner`, which can be applied to your functions to restrict their use to\\n * the owner.\\n */\\nabstract contract Ownable is Context {\\n    address private _owner;\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    /**\\n     * @dev Initializes the contract setting the deployer as the initial owner.\\n     */\\n    constructor() {\\n        _transferOwnership(_msgSender());\\n    }\\n\\n    /**\\n     * @dev Throws if called by any account other than the owner.\\n     */\\n    modifier onlyOwner() {\\n        _checkOwner();\\n        _;\\n    }\\n\\n    /**\\n     * @dev Returns the address of the current owner.\\n     */\\n    function owner() public view virtual returns (address) {\\n        return _owner;\\n    }\\n\\n    /**\\n     * @dev Throws if the sender is not the owner.\\n     */\\n    function _checkOwner() internal view virtual {\\n        require(owner() == _msgSender(), \\\"Ownable: caller is not the owner\\\");\\n    }\\n\\n    /**\\n     * @dev Leaves the contract without owner. It will not be possible to call\\n     * `onlyOwner` functions. Can only be called by the current owner.\\n     *\\n     * NOTE: Renouncing ownership will leave the contract without an owner,\\n     * thereby disabling any functionality that is only available to the owner.\\n     */\\n    function renounceOwnership() public virtual onlyOwner {\\n        _transferOwnership(address(0));\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Can only be called by the current owner.\\n     */\\n    function transferOwnership(address newOwner) public virtual onlyOwner {\\n        require(newOwner != address(0), \\\"Ownable: new owner is the zero address\\\");\\n        _transferOwnership(newOwner);\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Internal function without access restriction.\\n     */\\n    function _transferOwnership(address newOwner) internal virtual {\\n        address oldOwner = _owner;\\n        _owner = newOwner;\\n        emit OwnershipTransferred(oldOwner, newOwner);\\n    }\\n}\\n\",\"keccak256\":\"0xba43b97fba0d32eb4254f6a5a297b39a19a247082a02d6e69349e071e2946218\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Context.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (utils/Context.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Provides information about the current execution context, including the\\n * sender of the transaction and its data. While these are generally available\\n * via msg.sender and msg.data, they should not be accessed in such a direct\\n * manner, since when dealing with meta-transactions the account sending and\\n * paying for execution may not be the actual sender (as far as an application\\n * is concerned).\\n *\\n * This contract is only required for intermediate, library-like contracts.\\n */\\nabstract contract Context {\\n    function _msgSender() internal view virtual returns (address) {\\n        return msg.sender;\\n    }\\n\\n    function _msgData() internal view virtual returns (bytes calldata) {\\n        return msg.data;\\n    }\\n}\\n\",\"keccak256\":\"0xe2e337e6dde9ef6b680e07338c493ebea1b5fd09b43424112868e9cc1706bca7\",\"license\":\"MIT\"},\"contracts/DataLayer.sol\":{\"content\":\"//SPDX-License-Identifier: MIT\\npragma solidity >=0.8.0 <0.9.0;\\n\\nimport \\\"@openzeppelin/contracts/access/Ownable.sol\\\";\\n\\ncontract DataLayer is Ownable {\\n\\tuint256[][] public userActivityMatrix;\\n\\tmapping(address => uint256) public addressToId;\\n\\tmapping(uint256 => address) public idToAddress;\\n\\tmapping(address => uint256) public consumerCredits;\\n\\tmapping(bytes32 => uint256) public schemaIndex;\\n\\tuint256 public latestIndex;\\n\\tuint256 public totalCategories;\\n  uint256 public userRewardPerDatapoint;\\n\\n\\tenum Category {\\n\\t\\tGaming,\\n\\t\\tMarketplace,\\n\\t\\tDefi,\\n\\t\\tDao,\\n\\t\\tWeb3Social,\\n\\t\\tIdentity,\\n\\t\\tCertificates\\n\\t}\\n\\n  struct SchemaDetails {\\n    bytes32 schemaName;\\n\\t\\tbytes32[] columns;\\n\\t\\tCategory schemaCategory;\\n    uint256 totalRecords;\\n  }\\n\\n\\tstruct Analytics {\\n\\t\\tbytes32 schemaName;\\n\\t\\tbytes32[] columns;\\n\\t\\tCategory schemaCategory;\\n\\t\\tuint256[][] data;\\n\\t\\tmapping(address => uint256) addressToId;\\n\\t\\tmapping(uint256 => address) idToAddress;\\n\\t\\tmapping(bytes32 => uint256) columnToIndex;\\n\\t}\\n\\n\\tAnalytics[] public dappAnalytics;\\n\\n\\tconstructor() Ownable() {\\n\\t\\tuint256[] memory initialMatrix;\\n\\t\\tuserActivityMatrix.push(initialMatrix);\\n\\t\\tlatestIndex = 0;\\n\\t\\ttotalCategories = 7;\\n\\t\\tdappAnalytics.push();\\n    userRewardPerDatapoint = 10000000000000000;\\n\\t}\\n\\n\\tevent NewAnalytics(address user, address provider, uint256 category);\\n\\n\\tfunction addUser(address userAddress) external {\\n\\t\\t// get the total length of current activity matrix\\n\\t\\tlatestIndex = latestIndex + 1;\\n\\t\\tuint256[] memory initialMatrix;\\n\\t\\tuserActivityMatrix.push(initialMatrix);\\n\\n\\t\\t// add the new user details\\n\\t\\tfor (uint256 i = 0; i < totalCategories; i++) {\\n\\t\\t\\tuserActivityMatrix[latestIndex].push(0);\\n\\t\\t}\\n\\n\\t\\t// add user id to address mapping\\n\\t\\taddressToId[userAddress] = latestIndex;\\n\\t\\tidToAddress[latestIndex] = userAddress;\\n\\t}\\n\\n\\tfunction addSchema(\\n\\t\\tbytes32 schemaName,\\n\\t\\tbytes32[] calldata columns,\\n\\t\\tCategory category\\n\\t) external {\\n\\t\\t// Cannot have two schema with same name\\n    require(schemaIndex[schemaName] == uint256(0), \\\"SCHEMA NAME EXISTS\\\");\\n\\n    // initializing schema with defaults\\n\\t\\tAnalytics storage analytics = dappAnalytics.push();\\n\\t\\tanalytics.schemaName = schemaName;\\n\\t\\tanalytics.schemaCategory = category;\\n\\t\\t\\n    uint256[] memory initialUser;\\n\\t\\tanalytics.data.push(initialUser);\\n\\t\\t\\n    for (uint256 i = 0; i < columns.length; i++) {\\n\\t\\t\\tanalytics.data[0].push(0);\\n\\t\\t\\tanalytics.columns.push(columns[i]);\\n\\t\\t\\tanalytics.columnToIndex[columns[i]] = i;\\n\\t\\t}\\n\\n\\t\\t// adding to schema index map\\n\\t\\tschemaIndex[schemaName] = dappAnalytics.length - 1;\\n\\t}\\n\\n\\tfunction addAnalytics(\\n\\t\\taddress payable userAddress,\\n\\t\\tbytes32 schemaName,\\n\\t\\tbytes32[] calldata columns,\\n\\t\\tuint256[] calldata data\\n\\t) public payable {\\n\\t\\trequire(schemaIndex[schemaName] != 0, \\\"SCHEMA NOT PRESENT\\\");\\n\\n\\t\\t// add user if not already present\\n\\t\\tif (addressToId[userAddress] == 0) {\\n\\t\\t\\tthis.addUser(userAddress);\\n\\t\\t}\\n\\n\\t\\t// retrieve storage instance\\n\\t\\tAnalytics storage schemaAnalytics = dappAnalytics[\\n\\t\\t\\tschemaIndex[schemaName]\\n\\t\\t];\\n\\n\\t\\t// push new user if not already present\\n\\t\\tif (schemaAnalytics.addressToId[userAddress] == 0) {\\n\\t\\t\\tschemaAnalytics.data.push();\\n\\t\\t\\tfor (uint256 i = 0; i < schemaAnalytics.columns.length; i++) {\\n\\t\\t\\t\\tschemaAnalytics.data[schemaAnalytics.data.length - 1].push(0);\\n\\t\\t\\t}\\n\\n\\t\\t\\tschemaAnalytics.addressToId[userAddress] =\\n\\t\\t\\t\\tschemaAnalytics.data.length -\\n\\t\\t\\t\\t1;\\n\\t\\t\\tschemaAnalytics.idToAddress[\\n\\t\\t\\t\\tschemaAnalytics.data.length - 1\\n\\t\\t\\t] = userAddress;\\n\\t\\t}\\n\\n\\t\\t// add to the existing data\\n\\t\\tfor (uint256 i = 0; i < columns.length; i++) {\\n\\t\\t\\tschemaAnalytics.data[schemaAnalytics.addressToId[userAddress]][\\n\\t\\t\\t\\tschemaAnalytics.columnToIndex[columns[i]]\\n\\t\\t\\t] += data[i];\\n\\t\\t}\\n\\n\\t\\tuserActivityMatrix[addressToId[userAddress]][\\n\\t\\t\\tuint256(schemaAnalytics.schemaCategory)\\n\\t\\t] += 1;\\n\\n\\t\\t// rewarding the users for sharing data\\n\\t\\tbool sent = userAddress.send(userRewardPerDatapoint);\\n\\t\\trequire(sent, \\\"Failed to reward user\\\");\\n\\n\\t\\t// increasing credit limit for provider\\n\\t\\tconsumerCredits[msg.sender] = consumerCredits[msg.sender] + 1;\\n\\n\\t\\temit NewAnalytics(\\n\\t\\t\\tuserAddress,\\n\\t\\t\\tmsg.sender,\\n\\t\\t\\tuint256(schemaAnalytics.schemaCategory)\\n\\t\\t);\\n\\t}\\n\\n\\tfunction updateAnalytics(\\n\\t\\taddress payable userAddress,\\n\\t\\tbytes32 schemaName,\\n\\t\\tbytes32[] calldata columns,\\n\\t\\tuint256[] calldata data\\n\\t) public payable {\\n\\t\\t// add user if not already present\\n\\t\\tif (addressToId[userAddress] == 0) {\\n\\t\\t\\tthis.addUser(userAddress);\\n\\t\\t}\\n\\n\\t\\t// retrieve storage instance\\n\\t\\tAnalytics storage schemaAnalytics = dappAnalytics[\\n\\t\\t\\tschemaIndex[schemaName]\\n\\t\\t];\\n\\n\\t\\t// push new user if not already present\\n\\t\\tif (schemaAnalytics.addressToId[userAddress] == 0) {\\n\\t\\t\\tschemaAnalytics.data.push();\\n\\t\\t\\tfor (uint256 i = 0; i < schemaAnalytics.columns.length; i++) {\\n\\t\\t\\t\\tschemaAnalytics.data[schemaAnalytics.data.length - 1].push(0);\\n\\t\\t\\t}\\n\\n\\t\\t\\tschemaAnalytics.addressToId[userAddress] =\\n\\t\\t\\t\\tschemaAnalytics.data.length -\\n\\t\\t\\t\\t1;\\n\\t\\t\\tschemaAnalytics.idToAddress[\\n\\t\\t\\t\\tschemaAnalytics.data.length - 1\\n\\t\\t\\t] = userAddress;\\n\\t\\t}\\n\\n\\t\\t// replace the existing user data with new one\\n\\t\\tfor (uint256 i = 0; i < columns.length; i++) {\\n\\t\\t\\tschemaAnalytics.data[schemaAnalytics.addressToId[userAddress]][\\n\\t\\t\\t\\tschemaAnalytics.columnToIndex[columns[i]]\\n\\t\\t\\t] = data[i];\\n\\t\\t}\\n\\n\\t\\tuserActivityMatrix[addressToId[userAddress]][\\n\\t\\t\\tuint256(schemaAnalytics.schemaCategory)\\n\\t\\t] += 1;\\n\\n\\t\\t// rewarding the users for sharing data\\n\\t\\tbool sent = userAddress.send(userRewardPerDatapoint);\\n\\t\\trequire(sent, \\\"Failed to reward user\\\");\\n\\n\\t\\t// increasing credit limit for provider\\n\\t\\tconsumerCredits[msg.sender] = consumerCredits[msg.sender] + 1;\\n\\n\\t\\temit NewAnalytics(\\n\\t\\t\\tuserAddress,\\n\\t\\t\\tmsg.sender,\\n\\t\\t\\tuint256(schemaAnalytics.schemaCategory)\\n\\t\\t);\\n\\t}\\n\\n  function updateUserReward(uint256 newReward) external onlyOwner {\\n    userRewardPerDatapoint = newReward;\\n  }\\n\\n\\tfunction getUserActivityMatrix()\\n\\t\\texternal\\n\\t\\tview\\n\\t\\treturns (uint256[][] memory)\\n\\t{\\n\\t\\treturn userActivityMatrix;\\n\\t}\\n\\n  function getAllSchemas() external view returns (SchemaDetails[] memory) {\\n    SchemaDetails[] memory schemaDetails = new SchemaDetails[](dappAnalytics.length - 1);\\n    for (uint256 i = 1; i < dappAnalytics.length; i++) {\\n      // bytes32[] memory schemaColumns = new bytes32[](dappAnalytics[i].columns.length);\\n      SchemaDetails memory schemaDetail;\\n      schemaDetail.schemaName = dappAnalytics[i].schemaName;\\n      schemaDetail.columns = dappAnalytics[i].columns;\\n      schemaDetail.schemaCategory = dappAnalytics[i].schemaCategory;\\n      schemaDetail.totalRecords = dappAnalytics[i].data.length;\\n      schemaDetails[i - 1] = schemaDetail;\\n    }\\n\\n    return schemaDetails;\\n  }\\n\\n\\tfunction getAnalyticsDataBySchemaName(\\n\\t\\tbytes32 schemaName\\n\\t) external view returns (uint256[][] memory) {\\n\\t\\treturn dappAnalytics[schemaIndex[schemaName]].data;\\n\\t}\\n\\n\\tfunction getColumnsOfSchema(\\n\\t\\tbytes32 schemaName\\n\\t) external view returns (bytes32[] memory) {\\n\\t\\treturn dappAnalytics[schemaIndex[schemaName]].columns;\\n\\t}\\n\\n  function getSchemaAddressToId(\\n    bytes32 schemaName,\\n    address userAddress\\n  ) external view returns (uint256) {\\n    return dappAnalytics[schemaIndex[schemaName]].addressToId[userAddress];\\n  }\\n\\n  function getSchemaIdToAddress(\\n    bytes32 schemaName,\\n    uint256 userId\\n  ) external view returns (address) {\\n    return dappAnalytics[schemaIndex[schemaName]].idToAddress[userId];\\n  }\\n\\n\\treceive() external payable {}\\n}\\n\",\"keccak256\":\"0x018bc280bd319aeeb71d64238d8876969c7b42663df00fff356b1d02692d4b51\",\"license\":\"MIT\"},\"contracts/LinearRegression.sol\":{\"content\":\"//SPDX-License-Identifier: MIT\\npragma solidity >=0.8.0 <0.9.0;\\n\\nimport \\\"./DataLayer.sol\\\";\\n\\ncontract LinearRegression {\\n\\tDataLayer dataLayer;\\n\\n\\tint256 constant FIXED_POINT = 1e9; // Scaling factor for fixed-point arithmetic\\n\\n\\tconstructor(DataLayer _dataLayer) {\\n\\t\\tdataLayer = _dataLayer;\\n\\t}\\n\\n  // Get linear regression for onchain schema data\\n\\tfunction getLinearRegression(\\n\\t\\tbytes32 schemaName,\\n    uint256[] memory trainingColIndices,\\n\\t\\tuint256 labelColIndex,\\n    int256[][] memory testData,\\n\\t\\tint256 learningRate,\\n\\t\\tuint256 iterations,\\n\\t\\tint256 bias\\n\\t) public view returns (int256[] memory) {\\n\\t\\tuint256[][] memory analyticsData = dataLayer\\n\\t\\t\\t.getAnalyticsDataBySchemaName(schemaName);\\n\\n    int256[][] memory trainingData = new int256[][](analyticsData.length);\\n\\n\\t\\tint256[] memory labels = new int256[](analyticsData.length);\\n\\n\\t\\tfor (uint256 i = 1; i < analyticsData.length; i++) {\\n      trainingData[i] = new int256[](trainingColIndices.length);\\n\\t\\t\\tlabels[i] = int256(analyticsData[i][labelColIndex]) * FIXED_POINT;\\n\\n      for (uint256 j = 0; j < trainingColIndices.length; j++) {\\n        trainingData[i][j] = int256(analyticsData[i][trainingColIndices[j]]) * FIXED_POINT;\\n      }\\n\\t\\t}\\n\\n\\t\\tint256[] memory weights = fit(\\n\\t\\t\\ttrainingData,\\n\\t\\t\\tlabels,\\n\\t\\t\\tlearningRate,\\n\\t\\t\\titerations,\\n\\t\\t\\tbias\\n\\t\\t);\\n\\n\\t\\tint256[] memory predictions = predict(testData, bias, weights);\\n\\n\\t\\treturn predictions;\\n\\t}\\n\\n  // Get linear regression for offchain data\\n  function getLinearRegressionOffChainData(\\n\\t\\tint256[][] memory analyticsData,\\n\\t\\tint256[] memory labels,\\n\\t\\tint256[][] memory testData,\\n\\t\\tint256 learningRate,\\n\\t\\tuint256 iterations,\\n\\t\\tint256 bias\\n\\t) public pure returns (int256[] memory) {\\n\\t\\t\\n\\n\\t\\tint256[] memory weights = fit(\\n\\t\\t\\tanalyticsData,\\n\\t\\t\\tlabels,\\n\\t\\t\\tlearningRate,\\n\\t\\t\\titerations,\\n\\t\\t\\tbias\\n\\t\\t);\\n\\n\\t\\tint256[] memory predictions = predict(testData, bias, weights);\\n\\n\\t\\treturn predictions;\\n\\t}\\n\\n\\n\\t/**\\n\\t * Fits the linear regression model to the training data\\n\\t * @param X - The training features.\\n\\t * @param y - The training labels.\\n\\t */\\n\\tfunction fit(\\n\\t\\tint256[][] memory X,\\n\\t\\tint256[] memory y,\\n\\t\\tint256 learningRate,\\n\\t\\tuint256 iterations,\\n\\t\\tint256 bias\\n\\t) public pure returns (int256[] memory) {\\n\\t\\trequire(\\n\\t\\t\\tX.length == y.length,\\n\\t\\t\\t\\\"Feature and label arrays must have the same length.\\\"\\n\\t\\t);\\n\\n\\t\\t// Initialize weights\\n\\t\\tint256[] memory weights = new int256[](X[0].length);\\n  \\n\\t\\tfor (uint256 iter = 0; iter < iterations; iter++) {\\n\\t\\t\\tint256[] memory predictions = new int256[](X.length);\\n\\t\\t\\tint256[] memory dw = new int256[](X[0].length);\\n\\t\\t\\tint256 db = 0;\\n\\n\\t\\t\\t// Compute predictions\\n\\t\\t\\tfor (uint256 i = 1; i < X.length; i++) {\\n\\t\\t\\t\\tint256 linearModel = bias;\\n\\t\\t\\t\\tfor (uint256 j = 0; j < X[0].length; j++) {\\n\\t\\t\\t\\t\\tlinearModel += (weights[j] * X[i][j]) / FIXED_POINT;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tpredictions[i] = linearModel;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Compute gradients\\n\\t\\t\\tfor (uint256 i = 1; i < X.length; i++) {\\n\\t\\t\\t\\tint256 error = predictions[i] - y[i];\\n\\t\\t\\t\\tfor (uint256 j = 0; j < X[0].length; j++) {\\n\\t\\t\\t\\t\\tdw[j] += (X[i][j] * error) / (int256(X.length) * FIXED_POINT);\\n\\t\\t\\t\\t}\\n        \\n\\t\\t\\t\\tdb += error / int256(X.length);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Update weights and bias\\n\\t\\t\\tfor (uint256 j = 0; j < X[0].length; j++) {\\n\\t\\t\\t\\tweights[j] -= (learningRate * dw[j]) / FIXED_POINT;\\n\\t\\t\\t}\\n\\t\\t\\tbias -= (learningRate * db) / FIXED_POINT;\\n\\t\\t}\\n\\n\\t\\treturn weights;\\n\\t}\\n\\n\\t/**\\n\\t * Predicts the labels for the given input data\\n\\t * @param X - The input features.\\n\\t */\\n\\tfunction predict(\\n\\t\\tint256[][] memory X,\\n\\t\\tint256 bias,\\n\\t\\tint256[] memory weights\\n\\t) public pure returns (int256[] memory) {\\n\\t\\tuint256 m = X.length;\\n\\t\\tint256[] memory predictions = new int256[](m);\\n\\n\\t\\tfor (uint256 i = 0; i < m; i++) {\\n\\t\\t\\tint256 linearModel = bias;\\n\\t\\t\\tfor (uint256 j = 0; j < X[0].length; j++) {\\n\\t\\t\\t\\tlinearModel += (weights[j] * X[i][j]) / FIXED_POINT;\\n\\t\\t\\t}\\n\\t\\t\\tpredictions[i] = linearModel;\\n\\t\\t}\\n\\n\\t\\treturn predictions;\\n\\t}\\n}\\n\",\"keccak256\":\"0x1df6262a46be9e38f4073bdc651b23805d52e51fee3d8ffdd325ac56a9561cc0\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60803461007457601f610bb738819003918201601f19168301916001600160401b038311848410176100795780849260209460405283398101031261007457516001600160a01b0381169081900361007457600080546001600160a01b031916919091179055604051610b2790816100908239f35b600080fd5b634e487b7160e01b600052604160045260246000fdfe60806040815260c06040526004908136101561001a57600080fd5b600091823560e01c806330eba3ba146101b6578063ac9126a31461015b578063c9b76701146100ce5763e689266d1461005257600080fd5b346100ca5760a03660031901126100ca5767ffffffffffffffff81358181116100c65761008290369084016105bc565b936024359182116100c35750926100a26100b3926100bf95369101610559565b6084359160643591604435916107a8565b9051519182918261063d565b0390f35b80fd5b8480fd5b8280fd5b5091346100c35760c03660031901126100c35767ffffffffffffffff9280358481116100ca5761010190369083016105bc565b93602435818111610157576101199036908401610559565b926044359182116100c357509161015161013d6100bf96936100b3953691016105bc565b9260a43592839160843591606435916107a8565b91610a5b565b8380fd5b50346100ca5760603660031901126100ca5767ffffffffffffffff81358181116100c65761018c90369084016105bc565b936044359182116100c35750926101ac6100b3926100bf95369101610559565b9060243590610a5b565b50346100ca5760e03660031901126100ca5767ffffffffffffffff906024358281116100c657366023820112156100c65780820135946101f586610541565b926102038651519485610509565b86845260a092602084526020850160246005998a1b830101913683116100c657602401905b8282106104f9575050506064358581116100ca5761024990369083016105bc565b9460c435978360018060a01b038154169360248a515180968193630596815760e21b83528035908301525afa9283156104ee5784936103e4575b5050509283519261029384610541565b936102a18851519586610509565b8085526102b0601f1991610541565b0190835b8281106103d1575050506102c88451610678565b9360019260443584805b6102f3575b6100bf8a6100b38b8e610151818e8e60a43591608435916107a8565b83518110156103cc57908493929161030c879651610678565b610316828a6106f2565b5261032181896106f2565b5061033f6103398361033384886106f2565b516106f2565b51610706565b610349828b6106f2565b5282865b610366575b5061035c906106aa565b90919293946102d2565b8886979293949596518210156103bf57906103b3916103ad82610333876103a76103398e6103a08f6103998689926106f2565b51926106f2565b51906106f2565b946106f2565b526106aa565b8196959493929161034d565b5095949392919095610352565b6102d7565b81516060878301909101528151016102b4565b909192503d8085833e6103f78183610509565b8101908551818303126100c6578051908482116104ea57019181601f840112156100c65782519161042783610541565b946104358b51519687610509565b8386528751948580880195851b820101958387116104e6578101945b8686106104675750505050505050388080610283565b85518381116104e257820184603f820112156104e2578a51810151908e61048d83610541565b9261049b8251519485610509565b8084528d518401915180918a1b840101928884116104de5701905b8282106104ce57505050815289519586019501610451565b815181528d5191820191016104b6565b8d80fd5b8980fd5b8880fd5b8580fd5b8851513d86823e3d90fd5b8135815285519182019101610228565b90601f8019910116810190811067ffffffffffffffff82111761052b57604052565b634e487b7160e01b600052604160045260246000fd5b67ffffffffffffffff811161052b5760051b60200190565b81601f820112156105b75780359161057083610541565b9261057e6040519485610509565b808452602092838086019260051b8201019283116105b7578301905b8282106105a8575050505090565b8135815290830190830161059a565b600080fd5b9080601f830112156105b7578135906105d482610541565b926105e26040519485610509565b828452602092838086019160051b830101928084116105b757848301915b8483106106105750505050505090565b823567ffffffffffffffff81116105b757869161063284848094890101610559565b815201920191610600565b6020908160408183019282815285518094520193019160005b828110610664575050505090565b835185529381019392810192600101610656565b9061068282610541565b61068f6040519182610509565b82815280926106a0601f1991610541565b0190602036910137565b60001981146106b95760010190565b634e487b7160e01b600052601160045260246000fd5b8051156106dc5760200190565b634e487b7160e01b600052603260045260246000fd5b80518210156106dc5760209160051b010190565b90633b9aca00918281029281840514901517156106b957565b818102929160008212600160ff1b8214166106b95781840514901517156106b957565b811561075d57600160ff1b81146000198314166106b9570590565b634e487b7160e01b600052601260045260246000fd5b919091600083820193841291129080158216911516176106b957565b818103929160001380158285131691841216176106b957565b909281518451036109fa576107c96107c2839695966106cf565b5151610678565b9460005b8281106107dd5750505050505090565b6107ea8498939851610678565b956107f76107c2866106cf565b6000936001955b875187101561089057878b8b9c9d869c999a9b9c9389945b61081f856106cf565b515186101561086c5761086061086691633b9aca008f610859906108528b61033361084a828d6106f2565b51938d6106f2565b519061071f565b0590610773565b956106aa565b94610816565b9250949961088394508b93509a6103ad919b6106f2565b95909a999897969a6107fe565b979198929499909395509995996001965b8b5188101561096a57908392916108d06108be8a8f9998976106f2565b516108c98b886106f2565b519061078f565b9960005b6108dd896106cf565b515181101561093b57808d6103ad828f8f8e61091a6109136109309461090d6109369b61033361092097876106f2565b5161071f565b9151610706565b90610742565b61092a83866106f2565b51610773565b926106f2565b6108d4565b50989b610956610962939b61095c9395969798995190610742565b90610773565b9a6106aa565b9697906108a1565b93919a99949596509796915060005b6109828a6106cf565b51518110156109c557806109b6633b9aca006109a58e6108526109c0968e6106f2565b056109b0838d6106f2565b5161078f565b6103ad828c6106f2565b610979565b50969794926109ec9199965093633b9aca006109e56109f294968961071f565b059061078f565b916106aa565b9490946107cd565b60405162461bcd60e51b815260206004820152603360248201527f4665617475726520616e64206c6162656c20617272617973206d7573742068616044820152723b32903a34329039b0b6b2903632b733ba341760691b6064820152608490fd5b9190825192610a6984610678565b93600090815b818310610a7f5750505050505090565b849597919293949281935b610a93876106cf565b5151851015610ad257610ac6610acc91633b9aca006108598a6108528f6103338d610abf8e80946106f2565b51946106f2565b946106aa565b93610a8a565b610ae9929695919450989692986103ad828a6106f2565b919093610a6f56fea2646970667358221220773df7baf9b527383c135e27895637cbe2a34b1569085790b3a5ce0b6a1536eb64736f6c63430008110033",
  "deployedBytecode": "0x60806040815260c06040526004908136101561001a57600080fd5b600091823560e01c806330eba3ba146101b6578063ac9126a31461015b578063c9b76701146100ce5763e689266d1461005257600080fd5b346100ca5760a03660031901126100ca5767ffffffffffffffff81358181116100c65761008290369084016105bc565b936024359182116100c35750926100a26100b3926100bf95369101610559565b6084359160643591604435916107a8565b9051519182918261063d565b0390f35b80fd5b8480fd5b8280fd5b5091346100c35760c03660031901126100c35767ffffffffffffffff9280358481116100ca5761010190369083016105bc565b93602435818111610157576101199036908401610559565b926044359182116100c357509161015161013d6100bf96936100b3953691016105bc565b9260a43592839160843591606435916107a8565b91610a5b565b8380fd5b50346100ca5760603660031901126100ca5767ffffffffffffffff81358181116100c65761018c90369084016105bc565b936044359182116100c35750926101ac6100b3926100bf95369101610559565b9060243590610a5b565b50346100ca5760e03660031901126100ca5767ffffffffffffffff906024358281116100c657366023820112156100c65780820135946101f586610541565b926102038651519485610509565b86845260a092602084526020850160246005998a1b830101913683116100c657602401905b8282106104f9575050506064358581116100ca5761024990369083016105bc565b9460c435978360018060a01b038154169360248a515180968193630596815760e21b83528035908301525afa9283156104ee5784936103e4575b5050509283519261029384610541565b936102a18851519586610509565b8085526102b0601f1991610541565b0190835b8281106103d1575050506102c88451610678565b9360019260443584805b6102f3575b6100bf8a6100b38b8e610151818e8e60a43591608435916107a8565b83518110156103cc57908493929161030c879651610678565b610316828a6106f2565b5261032181896106f2565b5061033f6103398361033384886106f2565b516106f2565b51610706565b610349828b6106f2565b5282865b610366575b5061035c906106aa565b90919293946102d2565b8886979293949596518210156103bf57906103b3916103ad82610333876103a76103398e6103a08f6103998689926106f2565b51926106f2565b51906106f2565b946106f2565b526106aa565b8196959493929161034d565b5095949392919095610352565b6102d7565b81516060878301909101528151016102b4565b909192503d8085833e6103f78183610509565b8101908551818303126100c6578051908482116104ea57019181601f840112156100c65782519161042783610541565b946104358b51519687610509565b8386528751948580880195851b820101958387116104e6578101945b8686106104675750505050505050388080610283565b85518381116104e257820184603f820112156104e2578a51810151908e61048d83610541565b9261049b8251519485610509565b8084528d518401915180918a1b840101928884116104de5701905b8282106104ce57505050815289519586019501610451565b815181528d5191820191016104b6565b8d80fd5b8980fd5b8880fd5b8580fd5b8851513d86823e3d90fd5b8135815285519182019101610228565b90601f8019910116810190811067ffffffffffffffff82111761052b57604052565b634e487b7160e01b600052604160045260246000fd5b67ffffffffffffffff811161052b5760051b60200190565b81601f820112156105b75780359161057083610541565b9261057e6040519485610509565b808452602092838086019260051b8201019283116105b7578301905b8282106105a8575050505090565b8135815290830190830161059a565b600080fd5b9080601f830112156105b7578135906105d482610541565b926105e26040519485610509565b828452602092838086019160051b830101928084116105b757848301915b8483106106105750505050505090565b823567ffffffffffffffff81116105b757869161063284848094890101610559565b815201920191610600565b6020908160408183019282815285518094520193019160005b828110610664575050505090565b835185529381019392810192600101610656565b9061068282610541565b61068f6040519182610509565b82815280926106a0601f1991610541565b0190602036910137565b60001981146106b95760010190565b634e487b7160e01b600052601160045260246000fd5b8051156106dc5760200190565b634e487b7160e01b600052603260045260246000fd5b80518210156106dc5760209160051b010190565b90633b9aca00918281029281840514901517156106b957565b818102929160008212600160ff1b8214166106b95781840514901517156106b957565b811561075d57600160ff1b81146000198314166106b9570590565b634e487b7160e01b600052601260045260246000fd5b919091600083820193841291129080158216911516176106b957565b818103929160001380158285131691841216176106b957565b909281518451036109fa576107c96107c2839695966106cf565b5151610678565b9460005b8281106107dd5750505050505090565b6107ea8498939851610678565b956107f76107c2866106cf565b6000936001955b875187101561089057878b8b9c9d869c999a9b9c9389945b61081f856106cf565b515186101561086c5761086061086691633b9aca008f610859906108528b61033361084a828d6106f2565b51938d6106f2565b519061071f565b0590610773565b956106aa565b94610816565b9250949961088394508b93509a6103ad919b6106f2565b95909a999897969a6107fe565b979198929499909395509995996001965b8b5188101561096a57908392916108d06108be8a8f9998976106f2565b516108c98b886106f2565b519061078f565b9960005b6108dd896106cf565b515181101561093b57808d6103ad828f8f8e61091a6109136109309461090d6109369b61033361092097876106f2565b5161071f565b9151610706565b90610742565b61092a83866106f2565b51610773565b926106f2565b6108d4565b50989b610956610962939b61095c9395969798995190610742565b90610773565b9a6106aa565b9697906108a1565b93919a99949596509796915060005b6109828a6106cf565b51518110156109c557806109b6633b9aca006109a58e6108526109c0968e6106f2565b056109b0838d6106f2565b5161078f565b6103ad828c6106f2565b610979565b50969794926109ec9199965093633b9aca006109e56109f294968961071f565b059061078f565b916106aa565b9490946107cd565b60405162461bcd60e51b815260206004820152603360248201527f4665617475726520616e64206c6162656c20617272617973206d7573742068616044820152723b32903a34329039b0b6b2903632b733ba341760691b6064820152608490fd5b9190825192610a6984610678565b93600090815b818310610a7f5750505050505090565b849597919293949281935b610a93876106cf565b5151851015610ad257610ac6610acc91633b9aca006108598a6108528f6103338d610abf8e80946106f2565b51946106f2565b946106aa565b93610a8a565b610ae9929695919450989692986103ad828a6106f2565b919093610a6f56fea2646970667358221220773df7baf9b527383c135e27895637cbe2a34b1569085790b3a5ce0b6a1536eb64736f6c63430008110033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "fit(int256[][],int256[],int256,uint256,int256)": {
        "params": {
          "X": "- The training features.",
          "y": "- The training labels."
        }
      },
      "predict(int256[][],int256,int256[])": {
        "params": {
          "X": "- The input features."
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "fit(int256[][],int256[],int256,uint256,int256)": {
        "notice": "Fits the linear regression model to the training data"
      },
      "predict(int256[][],int256,int256[])": {
        "notice": "Predicts the labels for the given input data"
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 2595,
        "contract": "contracts/LinearRegression.sol:LinearRegression",
        "label": "dataLayer",
        "offset": 0,
        "slot": "0",
        "type": "t_contract(DataLayer)1579"
      }
    ],
    "types": {
      "t_contract(DataLayer)1579": {
        "encoding": "inplace",
        "label": "contract DataLayer",
        "numberOfBytes": "20"
      }
    }
  }
}